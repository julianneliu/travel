(function(t){function e(e){for(var n,a,c=e[0],o=e[1],l=e[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,c=1;c<i.length;c++){var o=i[c];0!==s[o]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},s={app:0},r=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("9085")},"074d":function(t,e,i){},"0da7":function(t,e,i){"use strict";i("5e4d")},"1bd8":function(t,e,i){"use strict";i("d400")},"2a37":function(t,e,i){},"3db4":function(t,e,i){},4025:function(t,e,i){"use strict";i("2a37")},5414:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("keep-alive",[i("router-view")],1)],1)},r=[],a={name:"App"},c=a,o=(i("034f"),i("2877")),l=Object(o["a"])(c,s,r,!1,null,null,null),u=l.exports,d=i("8c4f"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("home-header"),i("home-swiper",{attrs:{list:t.swiperList}}),i("home-icons",{attrs:{list:t.iconList}}),i("home-recommend",{attrs:{list:t.recommendList}}),i("home-weekend",{attrs:{list:t.weekendList}})],1)])},m=[],p=i("5530"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[t._m(0),t._m(1),i("router-link",{attrs:{to:"/city"}},[i("div",{staticClass:"header-right"},[t._v(" "+t._s(this.city)+" "),i("span",{staticClass:"iconfont iconjiantouarrow486"})])])],1)},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-left"},[i("div",{staticClass:"iconfont iconarrow-left-bold back-icon"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-input"},[i("span",{staticClass:"iconfont iconsearch"}),t._v(" 输入城市景点/游玩主题 ")])}],y=i("2f62"),C={name:"HomeHeader",computed:Object(p["a"])(Object(p["a"])({},Object(y["d"])(["city"])),Object(y["b"])(["doubleCity"])),props:{}},b=C,_=(i("c2ca"),Object(o["a"])(b,h,v,!1,null,"4eee5d94",null)),w=_.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showSwiper?i("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},[t._l(t.list,(function(t){return i("swiper-slide",{key:t.id},[i("img",{staticClass:"swiper-img",attrs:{src:t.imgUrl,alt:""}})])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()},k=[],O={name:"HomeSwiper",props:{list:Array},data:function(){return{swiperOptions:{pagination:{el:".swiper-pagination"},keyboardControl:!0,mousewheelControl:!0,loop:!0,slidesPerView:"auto",loopedSlides:2}}},computed:{showSwiper:function(){return this.list.length}}},j=O,S=(i("fe42"),Object(o["a"])(j,g,k,!1,null,"044c6fa9",null)),x=S.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icons"},[i("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},t._l(t.pages,(function(e,n){return i("swiper-slide",{key:n},t._l(e,(function(e){return i("div",{key:e.id,staticClass:"icon"},[i("div",{staticClass:"icon-img"},[i("img",{staticClass:"icon-img-content",attrs:{src:e.imgUrl,alt:""}})]),i("p",{staticClass:"icon-desc"},[t._v(t._s(e.desc))])])})),0)})),1)],1)},L=[],$=(i("4160"),i("159b"),{name:"HomeIcons",props:{list:Array},data:function(){return{swiperOptions:{pagination:{el:".swiper-pagination"},keyboardControl:!0,mousewheelControl:!0,loop:!0,slidesPerView:"auto",loopedSlides:2}}},computed:{pages:function(){var t=[];return this.list.forEach((function(e,i){var n=Math.floor(i/8);t[n]||(t[n]=[]),t[n].push(e)})),t}}}),E=$,I=(i("c705"),Object(o["a"])(E,H,L,!1,null,"4344912e",null)),A=I.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"recommend-title"},[t._v("热销推荐")]),i("ul",t._l(t.list,(function(e){return i("li",{key:e.id,staticClass:"item border-bottom"},[i("img",{staticClass:"item-img",attrs:{src:e.imgUrl,alt:""}}),i("div",{staticClass:"item-info"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))]),i("button",{staticClass:"item-button"},[t._v("查看详情")])])])})),0)])},T=[],M={name:"HomeRecommend",props:{list:Array},data:function(){return{}}},U=M,N=(i("e8ab"),Object(o["a"])(U,P,T,!1,null,"d35deef4",null)),V=N.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"recommend-title"},[t._v("周末去哪")]),i("ul",t._l(t.list,(function(e){return i("li",{key:e.id,staticClass:"item border-bottom"},[i("div",{staticClass:"item-img-wrapper"},[i("img",{staticClass:"item-img",attrs:{src:e.imgUrl,alt:""}})]),i("div",{staticClass:"item-info"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))])])])})),0)])},G=[],J={name:"HomeWeekend",props:{list:Array},data:function(){return{}}},R=J,W=(i("d15d"),Object(o["a"])(R,q,G,!1,null,"a72f3702",null)),F=W.exports,z=i("bc3a"),B=i.n(z),D={name:"Home",components:{HomeHeader:w,HomeSwiper:x,HomeIcons:A,HomeRecommend:V,HomeWeekend:F},computed:Object(p["a"])({},Object(y["d"])(["city"])),data:function(){return{lastCity:"",swiperList:[],iconList:[],recommendList:[],weekendList:[]}},methods:{getHomeInfo:function(){B.a.get("/api/index.json?city="+this.city).then(this.getHomeInfoSucc)},getHomeInfoSucc:function(t){if(t=t.data,t.ret&&t.data){var e=t.data;this.swiperList=e.swiperList,this.iconList=e.iconList,this.recommendList=e.recommendList,this.weekendList=e.weekendList}}},mounted:function(){this.lastCity=this.city,this.getHomeInfo()},activated:function(){this.lastCity!==this.city&&(this.lastCity=this.city,this.getHomeInfo())}},K=D,Q=Object(o["a"])(K,f,m,!1,null,null,null),X=Q.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("city-header"),i("city-search",{attrs:{cities:t.cities}}),i("city-list",{attrs:{cities:t.cities,hot:t.hotCities,letter:t.letter}}),i("city-alphabet",{attrs:{cities:t.cities},on:{change:t.handleLetterChange}})],1)},Z=[],tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[t._v(" 城市选择 "),i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"iconfont iconarrow-left-bold header-back"})])],1)},et=[],it={name:"CityHeader"},nt=it,st=(i("0da7"),Object(o["a"])(nt,tt,et,!1,null,"038fe3d6",null)),rt=st.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"输入城市名或拼音"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],staticClass:"search-content infinite-list",staticStyle:{overflow:"auto"}},[i("ul",[t._l(t.list,(function(e){return i("li",{key:e.id,staticClass:"search-item border-bottom ",on:{click:function(i){return t.handleCityClick(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),i("li",{directives:[{name:"show",rawName:"v-show",value:!t.list.length,expression:"!list.length"}],staticClass:"search-item border-bottom"},[t._v(" 没有找到数据 ")])],2)])])},ct=[],ot=(i("c975"),i("b0c0"),{name:"CitySearch",props:{cities:Object},data:function(){return{keyword:"",list:[],timer:null}},methods:Object(p["a"])({handleCityClick:function(t){this.changeCity(t),this.$router.push("/")}},Object(y["c"])(["changeCity"])),watch:{keyword:function(){var t=this;this.timer&&clearTimeout(this.timer),this.keyword?this.timer=setTimeout((function(){var e=[];for(var i in t.cities)t.cities[i].forEach((function(i){(i.spell.indexOf(t.keyword)>-1||i.name.indexOf(t.keyword)>-1)&&e.push(i)}));t.list=e}),100):this.list=[]}}}),lt=ot,ut=(i("c783"),Object(o["a"])(lt,at,ct,!1,null,"02bfddf0",null)),dt=ut.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"list infinite-list",staticStyle:{overflow:"auto"}},[i("div",[i("div",{staticClass:"area"},[i("div",{staticClass:"title",attrs:{"border-topbottom":""}},[t._v("当前城市")]),i("div",{staticClass:"button-list"},[i("div",{staticClass:"button-wrapper"},[i("div",{staticClass:"button"},[t._v(t._s(this.currentCity))])])])]),i("div",{staticClass:"area"},[i("div",{staticClass:"title",attrs:{"border-topbottom":""}},[t._v("热门城市")]),i("div",{staticClass:"button-list"},t._l(t.hot,(function(e){return i("div",{key:e.id,staticClass:"button-wrapper",on:{click:function(i){return t.handleCityClick(e.name)}}},[i("div",{staticClass:"button"},[t._v(t._s(e.name))])])})),0)]),t._l(t.cities,(function(e,n){return i("div",{key:n,ref:n,refInFor:!0,staticClass:"area scroll-content"},[i("div",{staticClass:"title scroll-item",attrs:{"border-topbottom":""}},[t._v(t._s(n))]),i("div",{staticClass:"item-list"},t._l(e,(function(e){return i("div",{key:e.id,staticClass:"item border-bottom",on:{click:function(i){return t.handleCityClick(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])}))],2)])},mt=[],pt={name:"CityList",props:{hot:Array,cities:Object,letter:String},computed:Object(p["a"])({},Object(y["d"])({currentCity:"city"})),methods:Object(p["a"])(Object(p["a"])({handleCityClick:function(t){this.changeCity(t),this.$router.push("/")}},Object(y["c"])(["changeCity"])),{},{jump:function(t){var e=document.querySelector(".scroll-content"),i=document.querySelectorAll(".scroll-item");e.scrollHeight<=e.scrollTop+e.clientHeight&&(this.activeStep=t),i[t].scrollIntoView({block:"start",behavior:"smooth"})}}),mounted:function(){},watch:{letter:function(){if(this.letter){var t=this.letter.charCodeAt()-65;this.jump(t)}}}},ht=pt,vt=(i("4025"),Object(o["a"])(ht,ft,mt,!1,null,"168b69e2",null)),yt=vt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"list"},t._l(t.cities,(function(e,n){return i("li",{key:n,staticClass:"item",on:{click:t.handleLetterClick}},[t._v(" "+t._s(n)+" ")])})),0)},bt=[],_t={name:"CityAlphabet",props:{cities:Object},methods:{handleLetterClick:function(t){this.$emit("change",t.target.innerText)}}},wt=_t,gt=(i("1bd8"),Object(o["a"])(wt,Ct,bt,!1,null,"6ee2900c",null)),kt=gt.exports,Ot={name:"City",components:{CityHeader:rt,CitySearch:dt,CityList:yt,CityAlphabet:kt},data:function(){return{cities:{},hotCities:[],letter:""}},methods:{getCityInfo:function(){B.a.get("/api/city.json").then(this.handleGetcityinfosucc)},handleGetcityinfosucc:function(t){if(t=t.data,t.ret&&t.data){var e=t.data;this.cities=e.cities,this.hotCities=e.hotCities}},handleLetterChange:function(t){this.letter=t}},mounted:function(){this.getCityInfo()}},jt=Ot,St=Object(o["a"])(jt,Y,Z,!1,null,"35cb06f2",null),xt=St.exports,Ht=new d["a"]({routes:[{path:"/",name:"Home",component:X},{path:"/city",name:"City",component:xt}]}),Lt=(i("3db4"),i("c8f4"),i("fe3c")),$t=i.n(Lt),Et=(i("5414"),i("1f80")),It=i.n(Et),At=(i("dfa4"),i("5c96")),Pt=i.n(At),Tt=(i("0fae"),"上海");try{localStorage.city&&(Tt=localStorage.city)}catch(Vt){console.log(Vt)}var Mt={city:Tt},Ut={changeCity:function(t,e){t.city=e;try{localStorage.city=e}catch(Vt){console.log(Vt)}}};n["default"].use(y["a"]);var Nt=new y["a"].Store({state:Mt,actions:{changeCity:function(t,e){t.commit("changeCity",e)}},mutations:Ut,getters:{doubleCity:function(t){return t.city+" "+t.city}}});n["default"].use(y["a"]),n["default"].config.productionTip=!1,$t.a.attach(document.body),n["default"].use(d["a"]),n["default"].use(Pt.a),n["default"].use(It.a),new n["default"]({router:Ht,store:Nt,render:function(t){return t(u)}}).$mount("#app")},"5e4d":function(t,e,i){},"6f97":function(t,e,i){},"71c8":function(t,e,i){},9085:function(t,e,i){},c2ca:function(t,e,i){"use strict";i("e8a7")},c705:function(t,e,i){"use strict";i("d2d4")},c783:function(t,e,i){"use strict";i("d021")},c8f4:function(t,e,i){},d021:function(t,e,i){},d15d:function(t,e,i){"use strict";i("71c8")},d2d4:function(t,e,i){},d400:function(t,e,i){},e8a7:function(t,e,i){},e8ab:function(t,e,i){"use strict";i("6f97")},fe42:function(t,e,i){"use strict";i("074d")}});
//# sourceMappingURL=app.33a58f04.js.map